@using Tamagotchi.Models;
@using System.Collections.Generic;

@{
  Layout = "_Layout";
}


<h1>Tamagotchi World</h1>

@* list of all tamagotchis and stats *@
<h3>Tamagotchis</h3>

@if (@Model.Count == 0)
{
  <p>There are no tamagotchis right now.</p>
} 

@foreach (Pet pet in @Model)
  {
    <div class="pet-container">
      
      <div class="pet-name">
        <h2>Name: <a href='/pets/@pet.Id/show'>@pet.Name</h2>
      </div>

      @if (@pet.IsTamagotchiDead())
      {
        <p>This pet has died.</p>
      } else {

        <div class="pet-property">
          <form action="/pets/@pet.Id/Food" method="post">
            <div class="pet-property-display">
              <input name="Id" type="hidden" value="@pet.Id">
              <p><span>@pet.Food</span></p>
            </div>
            <div class="pet-button">
              <button class="btn btn-primary" type="submit">Feed</button>
            </div>    
          </form>
        </div>

        <div class="pet-property">
          <form action="/pets/@pet.Id/Sleep" method="post">
            <div class="pet-property-display">
              <input name="Id" type="hidden" value="@pet.Id">
              <p><span>@pet.Sleep</span>
            </div>
            <div class="pet-button">
              <button class="btn btn-primary" type="submit">Sleep</button>
            </div>
          </form>
        </div>

        <div class="pet-property">
          <form action="/pets/@pet.Id/Attention" method="post">
            <div class="pet-property-display">
              <input name="Id" type="hidden" value="@pet.Id">
              <p><span>@pet.Attention</span></p>
            </div>
            <div>
              <button class="btn btn-primary" type="submit">Play</button>
            </div>
          </form>
        </div>

        <form action="/pets/@pet.Id/Delete" method="post">
          <input name="Id" type="hidden" value="@pet.Id">
          <button class="btn btn-primary" type="submit">Delete</button>
        </form>
      }
    </div>
  }

@* buttons/links with actions *@
<div class="pet-container">
<form action="/pets/updateall" method="post">
  <button class="btn btn-large" type="submit" name="button">Increase Time</button>
</form>

<a class="btn btn-large" href="/pets/new">Make a new Tamagotchi!</a>

<form class="btn btn-large" action="/pets/delete/all" method="post">
  <button type="submit" name="button">Remove all Pets</button>
</form>
</div>
